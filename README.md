# Three.js 点云图

https://molar.yuque.com/oim2it/tydouy/yghb2x?singleDoc=#J2gL1

拍平 3D

1. 绘制闭合的曲线
    - 2D ↔ 3D 坐标转换  投射到 z = 0
    - 凸多边形计算
2. 3D 的点投影到 2D 平面，判断是否在多边形内
    - 投射到 z = 0 计算
    - 如果存在特别大量的数据，如何判断

### 大文件处理

- web worker 加载，防止页面阻塞
- 可以根据图形大小 / 点的数量决定分成几个区块
    - 分块计算放到 web worker
- 计算时先判断在哪个区域，如果跨区域了，就多个区域的点合在一起搜索
    - 判断套索多边形和区块边界是否有交汇
    - 依旧是投射到 z = 0 来计算
    - 如果套索包含了整个区块，整个区块整体选择
